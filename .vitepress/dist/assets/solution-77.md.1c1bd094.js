import{o as n,c as s,b as a}from"./app.0aaa57e5.js";const t='{"title":"Screen Brightness","description":"","frontmatter":{},"headers":[{"level":3,"title":"index.ts:","slug":"index-ts"},{"level":3,"title":"brightness.ts:","slug":"brightness-ts"}],"relativePath":"solution-77.md","lastUpdated":1613522705297}',p={},o=a('<h1 id="screen-brightness"><a class="header-anchor" href="#screen-brightness" aria-hidden="true">#</a> Screen Brightness</h1><p><a href="https://github.com/capacitor-community/proposals/issues/77" target="_blank" rel="noopener noreferrer">https://github.com/capacitor-community/proposals/issues/77</a></p><h3 id="index-ts"><a class="header-anchor" href="#index-ts" aria-hidden="true">#</a> <code>index.ts</code>:</h3><div class="language-typescript"><pre><code><span class="token comment">// Screen Brightness</span>\n<span class="token keyword">import</span> <span class="token string">&#39;./brightness&#39;</span><span class="token punctuation">;</span>\n</code></pre></div><h3 id="brightness-ts"><a class="header-anchor" href="#brightness-ts" aria-hidden="true">#</a> <code>brightness.ts</code>:</h3><div class="language-typescript"><pre><code>native<span class="token punctuation">.</span><span class="token function-variable function">setScreenBrightness</span> <span class="token operator">=</span> <span class="token punctuation">(</span>value<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>\n  <span class="token keyword">if</span> <span class="token punctuation">(</span>native<span class="token punctuation">.</span>android<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">const</span> context <span class="token operator">=</span> native<span class="token punctuation">.</span>androidCapacitorActivity<span class="token punctuation">;</span>\n    <span class="token keyword">if</span> <span class="token punctuation">(</span>android<span class="token punctuation">.</span>os<span class="token punctuation">.</span>Build<span class="token punctuation">.</span><span class="token constant">VERSION</span><span class="token punctuation">.</span><span class="token constant">SDK_INT</span> <span class="token operator">&lt;</span> <span class="token number">23</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n\t\t\t<span class="token keyword">const</span> attr <span class="token operator">=</span> context<span class="token punctuation">.</span><span class="token function">getWindow</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getAttributes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\t\t\tattr<span class="token punctuation">.</span>screenBrightness <span class="token operator">=</span> value<span class="token punctuation">;</span>\n\t\t\tcontext<span class="token punctuation">.</span><span class="token function">getWindow</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setAttributes</span><span class="token punctuation">(</span>attr<span class="token punctuation">)</span><span class="token punctuation">;</span>\n\t\t<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>\n  \t\t<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>android<span class="token punctuation">.</span>provider<span class="token punctuation">.</span>Settings<span class="token punctuation">.</span>System<span class="token punctuation">.</span><span class="token function">canWrite</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  \t\t\t<span class="token keyword">const</span> intent <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">android</span><span class="token punctuation">.</span>content<span class="token punctuation">.</span><span class="token function">Intent</span><span class="token punctuation">(</span>\n  \t\t\t\tandroid<span class="token punctuation">.</span>provider<span class="token punctuation">.</span>Settings<span class="token punctuation">.</span><span class="token constant">ACTION_MANAGE_WRITE_SETTINGS</span>\n  \t\t\t<span class="token punctuation">)</span><span class="token punctuation">;</span>\n  \t\t\tintent<span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span>\n  \t\t\t\tandroid<span class="token punctuation">.</span>net<span class="token punctuation">.</span>Uri<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token string">&quot;package:&quot;</span> <span class="token operator">+</span> context<span class="token punctuation">.</span><span class="token function">getPackageName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>\n  \t\t\t<span class="token punctuation">)</span><span class="token punctuation">;</span>\n  \t\t\tintent<span class="token punctuation">.</span><span class="token function">addFlags</span><span class="token punctuation">(</span>android<span class="token punctuation">.</span>content<span class="token punctuation">.</span>Intent<span class="token punctuation">.</span><span class="token constant">FLAG_ACTIVITY_NEW_TASK</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  \t\t\tcontext<span class="token punctuation">.</span><span class="token function">startActivity</span><span class="token punctuation">(</span>intent<span class="token punctuation">)</span><span class="token punctuation">;</span>\n  \t\t<span class="token punctuation">}</span>\n\n  \t\t<span class="token keyword">if</span> <span class="token punctuation">(</span>android<span class="token punctuation">.</span>provider<span class="token punctuation">.</span>Settings<span class="token punctuation">.</span>System<span class="token punctuation">.</span><span class="token function">canWrite</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  \t\t\tandroid<span class="token punctuation">.</span>provider<span class="token punctuation">.</span>Settings<span class="token punctuation">.</span>System<span class="token punctuation">.</span><span class="token function">putInt</span><span class="token punctuation">(</span>\n  \t\t\t\tcontext<span class="token punctuation">.</span><span class="token function">getContentResolver</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n  \t\t\t\tandroid<span class="token punctuation">.</span>provider<span class="token punctuation">.</span>Settings<span class="token punctuation">.</span>System<span class="token punctuation">.</span><span class="token constant">SCREEN_BRIGHTNESS</span><span class="token punctuation">,</span>\n  \t\t\t\tvalue<span class="token operator">*</span><span class="token number">100</span>\n  \t\t\t<span class="token punctuation">)</span><span class="token punctuation">;</span>\n  \t\t<span class="token punctuation">}</span>\n    <span class="token punctuation">}</span>\n  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>\n    UIScreen<span class="token punctuation">.</span>mainScreen<span class="token punctuation">.</span>brightness <span class="token operator">=</span> value<span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n</code></pre></div>',6);p.render=function(a,t,p,c,e,u){return n(),s("div",null,[o])};export default p;export{t as __pageData};
